type definite_canister_settings = 
 record {
   compute_allocation: nat;
   controllers: vec principal;
   freezing_threshold: nat;
   memory_allocation: nat;
 };
type canister_status_response = 
 record {
   cycles: nat;
   idle_cycles_burned_per_day: nat;
   memory_size: nat;
   module_hash: opt blob;
   settings: definite_canister_settings;
   status: variant {
             running;
             stopped;
             stopping;
           };
 };
type TransferResult = 
 variant {
   Err: TransferError;
   Ok: BlockIndex;
 };
type TransferError = 
 variant {
   BadFee: record {expected_fee: Tokens;};
   InsufficientFunds: record {balance: Tokens;};
   TxCreatedInFuture;
   TxDuplicate: record {duplicate_of: BlockIndex;};
   TxTooOld: record {allowed_window_nanos: nat64;};
 };
type Tokens__1 = record {e8s: nat64;};
type Tokens = record {e8s: nat64;};
type Time = int;
type Result_8 = 
 variant {
   err: FileCreateError;
   ok: File__1;
 };
type Result_7 = 
 variant {
   err: DirectoryCreateError;
   ok;
 };
type Result_6 = 
 variant {
   err: DirectoryCreateError;
   ok: Directory;
 };
type Result_5 = 
 variant {
   err:
    variant {
      insufficientFunds: record {balance: Tokens__1;};
      notify: NotifyError;
      transfer: TransferError;
    };
   ok;
 };
type Result_4 = 
 variant {
   err: variant {notFound;};
   ok;
 };
type Result_3 = 
 variant {
   err: DirectoryStateError;
   ok: DirectoryState;
 };
type Result_2 = 
 variant {
   err: DirectoryMoveError;
   ok;
 };
type Result_1 = 
 variant {
   err: FileMoveError;
   ok;
 };
type Result = 
 variant {
   err: variant {
          alreadyExists;
          notFound;
        };
   ok: Directory;
 };
type NotifyError = 
 variant {
   InvalidTransaction: text;
   Other: record {
            error_code: nat64;
            error_message: text;
          };
   Processing;
   Refunded: record {
               block_index: opt BlockIndex__1;
               reason: text;
             };
   TransactionTooOld: BlockIndex__1;
 };
type JournalBucket = 
 service {
   accountIdentifier: () -> (AccountIdentifier) query;
   addFile: (FileCreate) -> (Result_8);
   canisterStatus: (principal) ->
    (record {
       freezingThresholdInCycles: nat;
       id: principal;
       status: canister_status_response;
     });
   checkDirname: (DirectoryCreate) -> (Result_7) query;
   createDirectory: (DirectoryCreate) -> (Result_6);
   createInvite: (Time) -> (Result_5);
   createPaths: (vec text, vec ID__1, opt ID__1) ->
    (vec record {
           text;
           ID__1;
         });
   deleteDirectory: (text) -> (Result_4);
   deleteFile: (text) -> (Result_4);
   deleteStorage: (BucketId__1) -> ();
   getCanisters: () -> (vec Canister) query;
   getChildrenDirs: (opt ID__1) -> (vec Directory) query;
   getJournal: (opt text) -> (Result_3) query;
   getStorage: (nat) -> (opt BucketId__1);
   listStorages: () -> (vec BucketId__1) query;
   moveDirectory: (text, opt text) -> (Result_2);
   moveFile: (text, opt text) -> (Result_1);
   showDirectoriesTree: (opt ID__1) -> (text) query;
   startBucketMonitor: (BucketId__1) -> ();
   stopBucketMonitor: (BucketId__1) -> ();
   storageLoadWasm: (vec nat8) -> (record {
                                     chunks: nat;
                                     total: nat;
                                   });
   storageResetWasm: () -> ();
   updateDirectory: (DirectoryAction, DirectoryUpdatableFields) -> (Result);
   upgradeStorages: () -> ();
   withdraw: (record {
                amount: Tokens;
                to: opt AccountIdentifier;
              }) -> (TransferResult);
 };
type ID__1 = text;
type ID = text;
type File__1 = 
 record {
   bucketId: BucketId;
   createdAt: Time;
   fileSize: nat;
   id: ID;
   name: text;
   parentId: opt ID;
   updatedAt: Time;
 };
type FileMoveError = 
 variant {
   invalidParams;
   notFound;
   sourceNotFound;
   targetNotFound;
 };
type FileCreateError = 
 variant {
   alreadyExists: File;
   illegalCharacters;
   parentNotFound;
 };
type FileCreate = 
 record {
   bucketId: BucketId;
   fileSize: nat;
   id: ID;
   name: text;
   parentId: opt ID;
 };
type File = 
 record {
   bucketId: BucketId;
   createdAt: Time;
   fileSize: nat;
   id: ID;
   name: text;
   parentId: opt ID;
   updatedAt: Time;
 };
type Directory__1 = 
 record {
   children: opt record {
                   vec Directory__1;
                   vec File;
                 };
   color: opt DirectoryColor;
   createdAt: Time;
   id: ID;
   name: text;
   parentId: opt ID;
   path: opt text;
   updatedAt: Time;
 };
type DirectoryUpdatableFields = 
 record {
   color: opt DirectoryColor;
   name: opt text;
   parentId: opt ID;
 };
type DirectoryStateError = variant {notFound;};
type DirectoryState = 
 record {
   breadcrumbs: vec Directory__1;
   dirs: vec Directory__1;
   files: vec File;
   id: opt ID;
 };
type DirectoryMoveError = 
 variant {
   invalidParams;
   notFound;
   sourceNotFound;
   targetNotFound;
 };
type DirectoryCreateError = 
 variant {
   alreadyExists: Directory__1;
   illegalCharacters;
   parentNotFound;
 };
type DirectoryCreate = 
 record {
   name: text;
   parentId: opt ID;
 };
type DirectoryColor = 
 variant {
   blue;
   gray;
   green;
   orange;
   pink;
   purple;
   yellow;
 };
type DirectoryAction = 
 variant {
   changeColor: ID;
   rename: ID;
 };
type Directory = 
 record {
   children: opt record {
                   vec Directory__1;
                   vec File;
                 };
   color: opt DirectoryColor;
   createdAt: Time;
   id: ID;
   name: text;
   parentId: opt ID;
   path: opt text;
   updatedAt: Time;
 };
type Canister = 
 record {
   canisterId: BucketId;
   error: opt text;
   lastChecked: Time;
   monitoring: variant {
                 running;
                 stopped;
               };
   owner: principal;
   status: opt canister_status_response;
   timerId: opt nat;
 };
type BucketId__1 = principal;
type BucketId = principal;
type BlockIndex__1 = nat64;
type BlockIndex = nat64;
type AccountIdentifier = blob;
service : (principal) -> JournalBucket
